<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Creature Lookup</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="container">
    <div class="search-bar">
      <!-- ✅ form bien abierto y cerrado -->
      <form id="search-form">
        <label for="search-input" class="sr-only">Search</label>
        <input id="search-input" type="text" required placeholder="Enter ID or name">
        <button id="search-button" type="submit">Search</button>
      </form>
    </div>

    <section id="creature-data" aria-live="polite">
      <h2 id="creature-name"></h2>
      <p id="creature-id"></p>
      <p id="weight"></p>
      <p id="height"></p>
      <p id="special-name"></p>
      <p id="special-description"></p>

      <!-- ✅ los tipos se inyectan aquí dinámicamente -->
      <div id="types" class="types"></div>

      <table>
        <caption>Base Stats</caption>
        <tr>
          <th>Base</th>
          <th>Stats</th>
        </tr>
        <tr><td>HP:</td><td id="hp"></td></tr>
        <tr><td>Attack:</td><td id="attack"></td></tr>
        <tr><td>Defense:</td><td id="defense"></td></tr>
        <tr><td>Sp. Attack:</td><td id="special-attack"></td></tr>
        <tr><td>Sp. Defense:</td><td id="special-defense"></td></tr>
        <tr><td>Speed:</td><td id="speed"></td></tr>
      </table>
    </section>
  </main>
  <script src="script.js" defer></script>
</body>
</html>
JS
const FALLBACK = {
  byId: {
    1: {
      id: 1,
      name: "PYROLYNX",
      weight: 42,
      height: 32,
      types: ["FIRE"],
      stats: [65, 80, 50, 90, 55, 100], // hp, atk, def, spA, spD, spe
    },
    2: {
      id: 2,
      name: "AQUOROC",
      weight: 220,
      height: 53,
      types: ["WATER", "ROCK"],
      stats: [85, 90, 120, 60, 70, 40],
    },
  },
  byName: {
    "pyrolynx": 1,
    "aquoroc": 2,
  },
};

const creatureID = document.getElementById('creature-id');
const creatureName = document.getElementById('creature-name');
const specialName = document.getElementById('special-name');
const specialDescription = document.getElementById('special-description');
const types = document.getElementById('types');
const height = document.getElementById('height');
const weight = document.getElementById('weight');
const hp = document.getElementById('hp');
const attack = document.getElementById('attack');
const defense = document.getElementById('defense');
const specialAttack = document.getElementById('special-attack');
const specialDefense = document.getElementById('special-defense');
const speed = document.getElementById('speed');
const searchForm = document.getElementById('search-form');
const searchInput = document.getElementById('search-input');

const setStats = (stats) => {
  hp.textContent = stats[0].base_stat;
  attack.textContent = stats[1].base_stat;
  defense.textContent = stats[2].base_stat;
  specialAttack.textContent = stats[3].base_stat;
  specialDefense.textContent = stats[4].base_stat;
  speed.textContent = stats[5].base_stat;
};

const renderCreature = (data) => {
  creatureName.textContent = `${data.name.toUpperCase()}`;
  creatureID.textContent = `#${data.id}`;
  weight.textContent = `Weight: ${data.weight}`;
  height.textContent = `Height: ${data.height}`;
  
  if (data.special_ability) {
    specialName.textContent = data.special_ability.name;
    specialDescription.textContent = data.special_ability.description;
  } else {
    specialName.textContent = '';
    specialDescription.textContent = '';
  }

  setStats(data.stats);
  
  types.innerHTML = data.types
    .map(obj => `<span class="type ${obj.name}">${obj.name}</span>`)
    .join('');
};

const renderFallbackCreature = (creature) => {
  const { id, name, weight, height, types: creatureTypes, stats } = creature;
  
  creatureName.textContent = `${name.toUpperCase()}`;
  creatureID.textContent = `#${id}`;
  weight.textContent = `Weight: ${weight}`;
  height.textContent = `Height: ${height}`;
  
  // Aquí usamos los stats del FALLBACK, que es un array de números, no objetos.
  hp.textContent = stats[0];
  attack.textContent = stats[1];
  defense.textContent = stats[2];
  specialAttack.textContent = stats[3];
  specialDefense.textContent = stats[4];
  speed.textContent = stats[5];
  
  specialName.textContent = '';
  specialDescription.textContent = '';
  
  types.innerHTML = creatureTypes
    .map(type => `<span class="type ${type}">${type}</span>`)
    .join('');
};

const getCreature = async () => {
  try {
    const creatureNameOrId = searchInput.value.toLowerCase();
    const response = await fetch(
      `https://rpg-creature-api.freecodecamp.rocks/api/creature/${creatureNameOrId}`
    );
    
    // Si la respuesta no es exitosa, se lanza un error que el catch puede atrapar.
    if (!response.ok) {
      throw new Error('Creature not found');
    }

    const data = await response.json();
    renderCreature(data);
    
  } catch (err) {
    console.error(`Error fetching creature: ${err}`);
    
    const creatureNameOrId = searchInput.value.toLowerCase();
    const creatureId = FALLBACK.byName[creatureNameOrId] || creatureNameOrId;
    const fallbackData = FALLBACK.byId[creatureId];
    
    if (fallbackData) {
      renderFallbackCreature(fallbackData);
      alert('Creature not found. Displaying fallback data.');
    } else {
      resetDisplay();
      alert('Creature not found.');
    }
  }
};

const resetDisplay = () => {
  creatureName.textContent = '';
  creatureID.textContent = '';
  height.textContent = '';
  weight.textContent = '';
  types.innerHTML = '';
  specialName.innerHTML = '';
  specialDescription.innerHTML = '';
  hp.textContent = '';
  attack.textContent = '';
  defense.textContent = '';
  specialAttack.textContent = '';
  specialDefense.textContent = '';
  speed.textContent = '';
};

searchForm.addEventListener('submit', e => {
  e.preventDefault();
  const inputValue = searchInput.value.trim();
  if (!inputValue) {
    alert('Please enter a creature name or ID.');
    return;
  }
  getCreature();
});
CSS
/* ========== Base & Reset ========== */
:root{
  --bg: #0f172a;           /* slate-900 */
  --panel: #111827;        /* gray-900 */
  --panel-2: #0b1220;      /* darker panel */
  --text: #e5e7eb;         /* gray-200 */
  --muted: #9ca3af;        /* gray-400 */
  --accent: #22d3ee;       /* cyan-400 */
  --accent-2: #38bdf8;     /* sky-400 */
  --ring: #60a5fa;         /* blue-400 */
  --success: #34d399;      /* emerald-400 */
  --danger: #f87171;       /* red-400 */
  --radius: 14px;
  --shadow: 0 10px 30px rgba(0,0,0,.25);
}

*{ box-sizing: border-box; }
html, body{
  height: 100%;
}
body{
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--text);
  background: radial-gradient(1000px 600px at 10% -10%, #0b1530 0%, transparent 60%), 
              radial-gradient(900px 500px at 110% 10%, #0b1835 0%, transparent 60%),
              var(--bg);
  line-height: 1.5;
  padding: 24px;
}

/* Utility */
.container{
  max-width: 880px;
  margin: 0 auto;
}

/* ========== Search Bar ========== */
.search-bar{
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border: 1px solid rgba(255,255,255,.06);
  padding: 16px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(6px);
}
.search-bar label{
  grid-column: 1 / -1;
  font-size: .92rem;
  color: var(--muted);
}
#search-input{
  width: 100%;
  padding: 12px 14px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
  color: var(--text);
  outline: none;
}
#search-input::placeholder{ color: rgba(229,231,235,.5); }
#search-input:focus{
  border-color: var(--accent-2);
  box-shadow: 0 0 0 4px rgba(56,189,248,.15);
}

#search-button{
  padding: 12px 16px;
  border: none;
  border-radius: 10px;
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  color: #06131a;
  font-weight: 700;
  cursor: pointer;
  transition: transform .06s ease, filter .2s ease;
}
#search-button:hover{ filter: brightness(1.05); }
#search-button:active{ transform: translateY(1px) scale(.99); }
#search-button:focus-visible{
  outline: 3px solid var(--ring);
  outline-offset: 3px;
}

/* ========== Creature Card ========== */
.creature{
  margin-top: 24px;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
  border: 1px solid rgba(255,255,255,.06);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 20px;
}
.creature h2#creature-name{
  margin: 0 0 6px;
  font-size: clamp(1.2rem, 2.6vw, 1.8rem);
  letter-spacing: .06em;
}

/* Meta (ID / Weight / Height) */
.meta{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px 14px;
  margin-bottom: 12px;
}
.meta p{
  margin: 0;
  font-size: .95rem;
  color: var(--muted);
}
.meta strong{
  color: var(--text);
}

/* Types badges */
.types-wrap{
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 10px 0 16px;
  flex-wrap: wrap;
}
.types-wrap > strong{
  color: var(--muted);
  font-size: .95rem;
}
#types{
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
#types span{
  display: inline-block;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.08);
  font-weight: 700;
  font-size: .78rem;
  letter-spacing: .06em;
}

/* ========== Stats Grid ========== */
.stats{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px 14px;
}
.stats p{
  margin: 0;
  padding: 10px 12px;
  border-radius: 10px;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.06);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.stats strong{
  color: var(--muted);
  font-size: .93rem;
}
.stats span{
  font-variant-numeric: tabular-nums;
  font-weight: 700;
}

/* ========== Empty State ========== */
#creature-name:empty::after{
  content: "No creature loaded";
  color: var(--muted);
  font-weight: 500;
}

/* ========== Responsive ========== */
@media (max-width: 560px){
  .search-bar{ grid-template-columns: 1fr; }
  .meta{ grid-template-columns: 1fr; }
  .stats{ grid-template-columns: 1fr; }
}

/* ========== Optional: Type Color Hints ========== */
/* Puedes ajustar colores por tipo si quieres diferenciarlos */
#types span:nth-child(1){ border-color: rgba(56,189,248,.35); }
#types span:nth-child(2){ border-color: rgba(250,204,21,.35); }
